(this.webpackJsonpnotes_keeper=this.webpackJsonpnotes_keeper||[]).push([[0],{56:function(e,t,n){e.exports=n(82)},66:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),i=n.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(23),s=n(8),c=n(51),u=function(e){var t=e.component,n=Object(c.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},n,{render:function(e){return localStorage.getItem("as")?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/",state:{from:e.location}}})}}))},m=n(20),d=n.n(m),p=n(30),h=n(18),f=n(19),g=n(27),E=n(25),b=(n(66),new(function(){function e(){Object(h.a)(this,e),this.authenticated=!1}return Object(f.a)(e,[{key:"login",value:function(e){this.authenticated=!0,localStorage.setItem("as",this.authenticated),e()}},{key:"logout",value:function(e){this.authenticated=!1,localStorage.removeItem("as"),e()}},{key:"isAuthenticated",value:function(){return this.authenticated}}]),e}())),v=n(34),y=function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={email:null,password:null,loginError:""},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return this.userTyping=function(t,n){switch(t){case"email":e.setState({email:n.target.value});break;case"password":e.setState({password:n.target.value})}},this.submitLogin=function(){var t=Object(p.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),localStorage.setItem("email",e.state.email),v.auth().signInWithEmailAndPassword(e.state.email,e.state.password).then((function(){b.login((function(){e.props.history.push("/dashboard")}))}),(function(t){e.setState({loginError:"Invalid Credentials!"}),setTimeout((function(){window.location.reload(!1)}),1e3)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r.a.createElement("div",{id:"container"},r.a.createElement("h1",{id:"nk"},"Notes Keeper"),r.a.createElement("div",{id:"login"},r.a.createElement("h2",null,"Login!"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:function(t){return e.submitLogin(t)}},r.a.createElement("input",{type:"email",id:"email1",placeholder:"Enter your email...",onChange:function(t){return e.userTyping("email",t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"password",id:"password1",placeholder:"Enter your password...",onChange:function(t){return e.userTyping("password",t)}}),r.a.createElement("br",null),r.a.createElement("br",null),this.state.loginError?r.a.createElement("h4",null,this.state.loginError):null,r.a.createElement("p",null,"Don't have an account ?"),r.a.createElement("div",{id:"sbn"},r.a.createElement(l.b,{to:"/signup",style:{textDecoration:"none",color:"#0067B8",fontSize:"19px"}},"Create account!")," ",r.a.createElement("button",{type:"submit",id:"log"}," Login ")))))}}]),n}(r.a.Component),w=(n(77),n(34)),S=function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={email:null,password:null,confirm_password:null,name:"",signUpError:""},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return this.formValid=function(){return e.state.password===e.state.confirm_password},this.userTyping=function(t,n){switch(t){case"email":e.setState({email:n.target.value});break;case"password":e.setState({password:n.target.value});break;case"confirm_password":e.setState({confirm_password:n.target.value});break;case"name":e.setState({name:n.target.value})}},this.submitSignUp=function(t){if(t.preventDefault(),e.formValid()){var n={email:e.state.email,name:e.state.name};w.auth().createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(){w.firestore().collection("names").add(n),e.props.history.push("/")}),(function(t){e.setState({signUpError:"Failed to add User"}),setTimeout((function(){window.location.reload(!1)}),1e3)}),(function(t){e.setState({signUpError:"Email or password is Invalid.."}),setTimeout((function(){window.location.reload(!1)}),1e3)}))}else e.setState({signUpError:"Password Mismatch!!"})},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{id:"nk"},"Notes Keeper"),r.a.createElement("div",{className:"login"},r.a.createElement("h2",null,"Sign Up!"),r.a.createElement("form",{onSubmit:function(t){return e.submitSignUp(t)},id:"signUp"},r.a.createElement("input",{type:"text",onChange:function(t){return e.userTyping("name",t)},id:"name",placeholder:"Enter Your Name.."}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"email",onChange:function(t){return e.userTyping("email",t)},id:"email",placeholder:"Enter a valid Email..."}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"password",id:"password",onChange:function(t){return e.userTyping("password",t)},placeholder:"Enter your password.."}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"password",onChange:function(t){return e.userTyping("confirm_password",t)},id:"confirm_password",placeholder:"Confirm Password... "}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{id:"sbtn"},r.a.createElement(l.b,{to:"/",style:{textDecoration:"none",color:"#0067B8",fontSize:"15px"}},"Already have an account?"),r.a.createElement("button",{id:"sign"},"Sign Up"))),this.state.signUpError?r.a.createElement("h2",{id:"err"},this.state.signUpError):null))}}]),n}(r.a.Component),I=n(42),k=(n(78),n(111)),x=n(108),O=n(39),T=n(107),j=n(104),C=Object(j.a)({root:{minWidth:160,maxWidth:300,minHeight:"10px",maxHeight:"fitcontent",marginRight:30,marginTop:40},content:{minHeight:"fitcontent",maxHeight:"300px",overflowY:"scroll"},Typography:{fontSize:"20px"},fab:{fontSize:"small",position:"absolute"},title:{position:"sticky"},del:{position:"absolute"},action:{position:"sticky",minHeight:"60px",maxHeight:"50px"}}),B=n(106),N=n(110),U=n(50),D=n.n(U),G=n(109);var R=function(e){var t=C();return r.a.createElement("div",{id:e.id},r.a.createElement(k.a,{className:t.root,variant:"outlined"},r.a.createElement(B.a,{title:e.title,className:t.title}),r.a.createElement(T.a,null),r.a.createElement(x.a,{className:t.content},r.a.createElement(O.a,{variant:"h6",component:"h6",className:t.Typography},e.content)),r.a.createElement(G.a,{disableSpacing:!0,className:t.action},r.a.createElement(N.a,{color:"secondary",className:t.fab,onClick:function(){e.deleteItem(e.id)}},"  ",r.a.createElement(D.a,{className:t.del})))))},L=n(34),A=function(e){Object(g.a)(n,e);var t=Object(E.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).componentDidMount=function(){L.auth().onAuthStateChanged(function(){var t=Object(p.a)(d.a.mark((function t(n){var a,r,o,i,l,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=4;break}e.props.history.push("/"),t.next=19;break;case 4:return e.setState({firebaseGetItems:[{title:null,content:null,id:null}]}),t.next=7,L.firestore().collection("names").where("email","==",localStorage.getItem("email")).get();case 7:return a=t.sent,r=a.docs,o=[],r.forEach((function(e){return o.push(e.data())})),i=o[0].email,l=o[0].name,e.setState({email:i}),e.setState({name:l}),t.next=17,L.firestore().collection("users").doc(localStorage.getItem("email")).collection("notes").orderBy("timestamp","desc").get();case 17:return s=t.sent,t.abrupt("return",s.docs.map((function(t){e.setState({firebaseGetItems:[].concat(Object(I.a)(e.state.firebaseGetItems),[{title:t.data().title,content:t.data().body,id:t.id}])})})));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},e.state={email:null,name:null,content:null,title:null,id:null,firebaseGetItems:[{id:null,title:null,content:null}]},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return console.log(this.state.email),console.log(this.state.name),this.change=function(t,n){switch(t){case"title":e.setState({title:n.target.value});break;case"content":e.setState({content:n.target.value})}document.getElementById("title").style.display="inline-block",document.getElementById("notes").style.borderTopRightRadius="0px",document.getElementById("notes").style.borderTopLeftRadius="0px"},this.contentSubmit=function(t){""!==e.state.content&&e.addContentToFireBase(),t.preventDefault(),document.getElementById("title").value="",document.getElementById("title").style.display="none",document.getElementById("notes").value="",document.getElementById("notes").style.borderTopRightRadius="23px",document.getElementById("notes").style.borderTopLeftRadius="23px",console.log(e.state)},this.addContentToFireBase=Object(p.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={body:e.state.content,title:e.state.title,timestamp:L.firestore.FieldValue.serverTimestamp()},t.next=3,L.firestore().collection("users").doc(localStorage.getItem("email")).collection("notes").add(n);case 3:a=t.sent,e.setState({id:a.id}),console.log(e.state.id),e.setState({firebaseGetItems:[{id:e.state.id,title:e.state.title,content:e.state.content}].concat(Object(I.a)(e.state.firebaseGetItems))}),e.setState({title:null});case 8:case"end":return t.stop()}}),t)}))),this.onDelete=function(t){var n=e.state.firebaseGetItems.filter((function(e){return e.id!==t}));e.setState({firebaseGetItems:n}),L.firestore().collection("users").doc(localStorage.getItem("email")).collection("notes").doc(t).delete()},r.a.createElement("div",{id:"dashboard"},r.a.createElement("header",{id:"header"},r.a.createElement("h3",null,"NOTES KEEPER"),r.a.createElement("div",{id:"nn"},r.a.createElement("h3",{id:"namess"},this.state.name),r.a.createElement("button",{id:"logout",onClick:function(){b.logout((function(){e.props.history.push("/")}))}},"Logout"))),r.a.createElement("div",{id:"containers"},r.a.createElement("div",{id:"inp"},r.a.createElement("form",{onSubmit:function(t){return e.contentSubmit(t)}},r.a.createElement("input",{type:"text",id:"title",name:"title",placeholder:"Title:",onChange:function(t){return e.change("title",t)}}),r.a.createElement("br",null),r.a.createElement("textarea",{id:"notes",name:"content",placeholder:"Enter Your Notes..",onChange:function(t){return e.change("content",t)}}),r.a.createElement("br",null),r.a.createElement("button",{id:"add",type:"submit"},"ADD"))),r.a.createElement("div",{id:"content"},this.state.firebaseGetItems.map((function(t){return t.content?r.a.createElement(R,{title:t.title,content:t.content,key:t.id,id:t.id,deleteItem:e.onDelete}):null})))))}}]),n}(r.a.Component),_={apiKey:"AIzaSyBXurZM-m2wG9Cx39plrEC0noOPYNX8tGQ",authDomain:"notes-keeper-41813.firebaseapp.com",databaseURL:"https://notes-keeper-41813.firebaseio.com",projectId:"notes-keeper-41813",storageBucket:"notes-keeper-41813.appspot.com",messagingSenderId:"167442508358",appId:"1:167442508358:web:3e50bf9a3e198e4b1ab847",measurementId:"G-FMSJZCRCPL"},P=r.a.createElement(l.a,null,r.a.createElement("div",{id:"routing-container"},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:y}),r.a.createElement(s.b,{path:"/signup",exact:!0,component:S}),r.a.createElement(u,{path:"/dashboard",exact:!0,component:A}),r.a.createElement(s.b,{path:"*",component:function(){return"404 NOT FOUND"}})))),z=n(34);n(81),z.initializeApp(_),z.analytics(),i.a.render(P,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.ba9c69d2.chunk.js.map