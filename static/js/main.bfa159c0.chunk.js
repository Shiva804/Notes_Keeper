(this.webpackJsonpnotes_keeper=this.webpackJsonpnotes_keeper||[]).push([[0],{33:function(e,t,n){e.exports=n(57)},43:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(30),i=n.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(10),c=n(3),l=n(32),u=n(11),m=n(12),p=new(function(){function e(){Object(u.a)(this,e),this.authenticated=!1}return Object(m.a)(e,[{key:"login",value:function(e){this.authenticated=!0,localStorage.setItem("as",this.authenticated),e()}},{key:"logout",value:function(e){this.authenticated=!1,localStorage.removeItem("as"),e()}},{key:"isAuthenticated",value:function(){return this.authenticated}}]),e}()),d=function(e){var t=e.component,n=Object(l.a)(e,["component"]);return r.a.createElement(c.b,Object.assign({},n,{render:function(e){return localStorage.getItem("as")?r.a.createElement(t,e):r.a.createElement(c.a,{to:{pathname:"/",state:{from:e.location}}})}}))},h=n(13),f=n.n(h),E=n(21),g=n(18),b=n(17),w=(n(43),n(19)),v=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={email:null,password:null,loginError:""},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this;return this.userTyping=function(t,n){switch(t){case"email":e.setState({email:n.target.value});break;case"password":e.setState({password:n.target.value})}},this.submitLogin=function(){var t=Object(E.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),w.auth().signInWithEmailAndPassword(e.state.email,e.state.password).then((function(){p.login((function(){e.props.history.push("/dashboard")}))}),(function(t){e.setState({loginError:"Invalid Credentials!"}),setTimeout((function(){window.location.reload(!1)}),1e3)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r.a.createElement("div",{id:"container"},r.a.createElement("h1",{id:"nk"},"Notes Keeper"),r.a.createElement("div",{id:"login"},r.a.createElement("h2",null,"Login!"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:function(t){return e.submitLogin(t)}},r.a.createElement("input",{type:"email",id:"email1",placeholder:"Enter your email...",onChange:function(t){return e.userTyping("email",t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"password",id:"password1",placeholder:"Enter your password...",onChange:function(t){return e.userTyping("password",t)}}),r.a.createElement("br",null),r.a.createElement("br",null),this.state.loginError?r.a.createElement("h4",null,this.state.loginError):null,r.a.createElement("p",null,"Don't have an account ?"),r.a.createElement("div",{id:"sbn"},r.a.createElement(s.b,{to:"/signup",style:{textDecoration:"none",color:"#0067B8",fontSize:"19px"}},"Create account!")," ",r.a.createElement("button",{type:"submit",id:"log"}," Login ")))))}}]),n}(r.a.Component),y=(n(54),n(19)),k=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).state={email:null,password:null,confirm_password:null,signUpError:""},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this;return this.formValid=function(){return e.state.password===e.state.confirm_password},this.userTyping=function(t,n){switch(t){case"email":e.setState({email:n.target.value});break;case"password":e.setState({password:n.target.value});break;case"confirm_password":e.setState({confirm_password:n.target.value})}},this.submitSignUp=function(t){t.preventDefault(),e.formValid()?y.auth().createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(t){var n={email:t.user.email,title:[],notes:[]};y.firestore().collection("users").doc(e.state.email).set(n).then((function(){e.props.history.push("/")}),(function(t){e.setState({signUpError:"Failed to add User"}),setTimeout((function(){window.location.reload(!1)}),1e3)}))}),(function(t){e.setState({signUpError:"Email or password is Invalid.."}),setTimeout((function(){window.location.reload(!1)}),1e3)})):e.setState({signUpError:"Password Mismatch!!"})},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{id:"nk"},"Notes Keeper"),r.a.createElement("div",{className:"login"},r.a.createElement("h2",null,"Sign Up!"),r.a.createElement("form",{onSubmit:function(t){return e.submitSignUp(t)},id:"signUp"},r.a.createElement("input",{type:"email",onChange:function(t){return e.userTyping("email",t)},id:"email",placeholder:"Enter a valid Email..."}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"password",id:"password",onChange:function(t){return e.userTyping("password",t)},placeholder:"Enter your password.."}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"password",onChange:function(t){return e.userTyping("confirm_password",t)},id:"confirm_password",placeholder:"Confirm Password... "}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{id:"sbtn"},r.a.createElement(s.b,{to:"/",style:{textDecoration:"none",color:"#0067B8",fontSize:"15px"}},"Already have an account?"),r.a.createElement("button",{id:"sign"},"Sign Up"))),this.state.signUpError?r.a.createElement("h2",{id:"err"},this.state.signUpError):null))}}]),n}(r.a.Component),S=(n(55),n(19),n(19)),O=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).componentDidMount=function(){S.auth().onAuthStateChanged(function(){var t=Object(E.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=4;break}e.props.history.push("/"),t.next=6;break;case 4:return t.next=6,S.firestore().collection("notes").where("users","array-contains",n.email).onSnapshot(function(){var t=Object(E.a)(f.a.mark((function t(a){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.docs.map((function(e){return e.data})),t.next=3,e.setState({email:n.email,notes:r});case 3:console.log(e.state);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},e.state={email:null,notes:[]},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"dashboard"},r.a.createElement("header",{id:"header"},r.a.createElement("h3",null,"NOTES KEEPER"),r.a.createElement("button",{id:"logout",onClick:function(){p.logout((function(){e.props.history.push("/")}))}},"Logout")),r.a.createElement("div",{id:"container"}))}}]),n}(r.a.Component),j={apiKey:"AIzaSyAQOuMxht8RaP_721mPf4NyGpgKeAgTCkM",authDomain:"notes-keeper-7a765.firebaseapp.com",databaseURL:"https://notes-keeper-7a765.firebaseio.com",projectId:"notes-keeper-7a765",storageBucket:"notes-keeper-7a765.appspot.com",messagingSenderId:"613764324701",appId:"1:613764324701:web:949fb09c5cdd53287cdcb4",measurementId:"G-WW4QN51M71"},U=r.a.createElement(s.a,null,r.a.createElement("div",{id:"routing-container"},r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/",exact:!0,component:v}),r.a.createElement(c.b,{path:"/signup",component:k}),r.a.createElement(d,{path:"/dashboard",component:O}),r.a.createElement(c.b,{path:"*",component:function(){return"404 NOT FOUND"}})))),x=n(19);n(56),x.initializeApp(j),x.analytics(),i.a.render(U,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.bfa159c0.chunk.js.map