(this.webpackJsonpnotes_keeper=this.webpackJsonpnotes_keeper||[]).push([[0],{72:function(e,t,n){e.exports=n(97)},82:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(10),i=n.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(30),s=n(8),c=n(62),u=function(e){var t=e.component,n=Object(c.a)(e,["component"]);return o.a.createElement(s.b,Object.assign({},n,{render:function(e){return localStorage.getItem("as")?o.a.createElement(t,e):o.a.createElement(s.a,{to:{pathname:"/",state:{from:e.location}}})}}))},m=n(27),d=n.n(m),p=n(36),h=n(20),f=n(21),b=n(26),g=n(24),E=(n(82),new(function(){function e(){Object(h.a)(this,e),this.authenticated=!1}return Object(f.a)(e,[{key:"login",value:function(e){this.authenticated=!0,localStorage.setItem("as",this.authenticated),e()}},{key:"logout",value:function(e){this.authenticated=!1,localStorage.removeItem("as"),e()}},{key:"isAuthenticated",value:function(){return this.authenticated}}]),e}())),v=n(42),y=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={email:null,password:null,loginError:""},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return this.userTyping=function(t,n){switch(t){case"email":e.setState({email:n.target.value});break;case"password":e.setState({password:n.target.value})}},this.submitLogin=function(){var t=Object(p.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),localStorage.setItem("email",e.state.email),v.auth().signInWithEmailAndPassword(e.state.email,e.state.password).then((function(){E.login((function(){e.props.history.push("/dashboard")}))}),(function(t){e.setState({loginError:"Invalid Credentials!"}),setTimeout((function(){window.location.reload(!1)}),1e3)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o.a.createElement("div",{id:"container"},o.a.createElement("h1",{id:"nk"},"Notes Keeper"),o.a.createElement("div",{id:"login"},o.a.createElement("h2",null,"Login!"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("form",{onSubmit:function(t){return e.submitLogin(t)}},o.a.createElement("input",{type:"email",id:"email1",placeholder:"Enter your email...",onChange:function(t){return e.userTyping("email",t)}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("input",{type:"password",id:"password1",placeholder:"Enter your password...",onChange:function(t){return e.userTyping("password",t)}}),o.a.createElement("br",null),o.a.createElement("br",null),this.state.loginError?o.a.createElement("h4",null,this.state.loginError):null,o.a.createElement("p",null,"Don't have an account ?"),o.a.createElement("div",{id:"sbn"},o.a.createElement(l.b,{to:"/signup",style:{textDecoration:"none",color:"#0067B8",fontSize:"19px"}},"Create account!")," ",o.a.createElement("button",{type:"submit",id:"log"}," Login ")))))}}]),n}(o.a.Component),w=(n(93),n(42)),S=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={email:null,password:null,confirm_password:null,name:"",signUpError:""},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return this.formValid=function(){return e.state.password===e.state.confirm_password},this.userTyping=function(t,n){switch(t){case"email":e.setState({email:n.target.value});break;case"password":e.setState({password:n.target.value});break;case"confirm_password":e.setState({confirm_password:n.target.value});break;case"name":e.setState({name:n.target.value})}},this.submitSignUp=function(t){if(t.preventDefault(),e.formValid()){var n={email:e.state.email,name:e.state.name};w.auth().createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(){w.firestore().collection("names").add(n),e.props.history.push("/")}),(function(t){e.setState({signUpError:"Failed to add User"}),setTimeout((function(){window.location.reload(!1)}),1e3)}),(function(t){e.setState({signUpError:"Email or password is Invalid.."}),setTimeout((function(){window.location.reload(!1)}),1e3)}))}else e.setState({signUpError:"Password Mismatch!!"})},o.a.createElement("div",{className:"container"},o.a.createElement("h1",{id:"nk"},"Notes Keeper"),o.a.createElement("div",{className:"login"},o.a.createElement("h2",null,"Sign Up!"),o.a.createElement("form",{onSubmit:function(t){return e.submitSignUp(t)},id:"signUp"},o.a.createElement("input",{type:"text",onChange:function(t){return e.userTyping("name",t)},id:"name",placeholder:"Enter Your Name.."}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("input",{type:"email",onChange:function(t){return e.userTyping("email",t)},id:"email",placeholder:"Enter a valid Email..."}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("input",{type:"password",id:"password",onChange:function(t){return e.userTyping("password",t)},placeholder:"Enter your password.."}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("input",{type:"password",onChange:function(t){return e.userTyping("confirm_password",t)},id:"confirm_password",placeholder:"Confirm Password... "}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",{id:"sbtn"},o.a.createElement(l.b,{to:"/",style:{textDecoration:"none",color:"#0067B8",fontSize:"15px"}},"Already have an account?"),o.a.createElement("button",{id:"sign"},"Sign Up"))),this.state.signUpError?o.a.createElement("h2",{id:"err"},this.state.signUpError):null))}}]),n}(o.a.Component),x=n(52),k=(n(94),n(135)),I=n(129),C=n(48),O=n(126),j=Object(O.a)({root:{minWidth:"160px",maxWidth:"300px",minHeight:"10px",maxHeight:"fitcontent",marginRight:30,marginTop:40,backgroundColor:"#202124",color:"white",border:"1px white solid",borderRadius:"23px"},content:{minHeight:"fitcontent",maxHeight:"300px",overflowY:"scroll"},div:{border:"0.2px white solid"},Typography:{fontSize:"14px"},fab:{position:"absolute",fontSize:"small"},title:{position:"sticky",fontSize:"14px"},del:{fontSize:"large"},action:{position:"sticky",minHeight:"60px",maxHeight:"50px"},edit:{fontSize:"small"},editB:{position:"absolute",marginLeft:"60px"}}),T=n(128),B=n(131),N=n(60),R=n.n(N),L=n(130);var U=function(e){var t=j();return o.a.createElement("div",{id:e.id},o.a.createElement(k.a,{className:t.root,variant:"outlined",color:"blue"},o.a.createElement(T.a,{title:e.title,className:t.title}),o.a.createElement(I.a,{className:t.content,onClick:function(){e.editItem(e.id,e.title,e.content)}},o.a.createElement(C.a,{variant:"p",component:"p",className:t.Typography},e.content)),o.a.createElement(L.a,{disableSpacing:!0,className:t.action},o.a.createElement(B.a,{color:"secondary",className:t.fab,onClick:function(){e.deleteItem(e.id)},size:"small"},"  ",o.a.createElement(R.a,{className:t.del})))))},z=n(134),D=n(99),G=n(132),A=n(101),P=n(61),_=n.n(P),F=n(133),H=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={title:null,content:null,open:!0},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this;console.log(this.state);var t=this.props.classes,n=function(){e.setState({open:!1}),e.props.close()};return this.change=function(t,n){switch(t){case"title":e.setState({title:n.target.value});break;case"content":e.setState({content:n.target.value})}},this.save=function(){n(),e.props.save(e.props.id,e.state.title,e.state.content)},console.log(this.state),o.a.createElement("div",null,o.a.createElement(z.a,{className:t.modal,open:this.state.open,onClose:n,closeAfterTransition:!0,BackdropComponent:G.a,BackdropProps:{timeout:500}},o.a.createElement(A.a,{in:this.state.open},o.a.createElement("div",{className:t.back},o.a.createElement("form",null,o.a.createElement("input",{type:"text",className:t.title,defaultValue:this.props.title,placeholder:"Title:",onChange:function(t){return e.change("title",t)}}),o.a.createElement("br",null),o.a.createElement("textarea",{type:"text",className:t.content,defaultValue:this.props.content,placeholder:"Edit your note..",onChange:function(t){return e.change("content",t)}})," ",o.a.createElement("br",null),o.a.createElement(F.a,{variant:"contained",color:"primary",size:"small",className:t.button,startIcon:o.a.createElement(_.a,null),onClick:function(){e.save()}},"Save"))))))}}]),n}(a.Component),W=Object(D.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",outline:"none"},paper:{backgroundColor:"white",outline:"none",border:"2px solid #000"},title:{width:"400px",height:"40px",fontSize:"20px",outline:"none",border:"0.5px solid white",borderBottom:"black solid 0.5px",borderTopLeftRadius:"23px",borderTopRightRadius:"23px",paddingLeft:"15px"},content:{resize:"none",height:"150px",width:"400px",paddingLeft:"20px",display:"inline-block",border:"0.5px solid white",borderTop:"0px",fontSize:"20px",outline:"none",borderBottomLeftRadius:"23px",borderBottomRightRadius:"23px"},button:{marginLeft:"300px"},back:{outline:"none"}}}))(H),V=n(136),K=n(42),M=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).componentDidMount=function(){K.auth().onAuthStateChanged(function(){var t=Object(p.a)(d.a.mark((function t(n){var a,o,r,i,l,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=4;break}e.props.history.push("/"),t.next=19;break;case 4:return e.setState({firebaseGetItems:[{title:null,content:null,id:null}]}),t.next=7,K.firestore().collection("names").where("email","==",localStorage.getItem("email")).get();case 7:return a=t.sent,o=a.docs,r=[],o.forEach((function(e){return r.push(e.data())})),i=r[0].email,l=r[0].name,e.setState({email:i}),e.setState({name:l}),t.next=17,K.firestore().collection("users").doc(localStorage.getItem("email")).collection("notes").orderBy("timestamp","desc").get();case 17:return s=t.sent,t.abrupt("return",s.docs.map((function(t){e.setState({firebaseGetItems:[].concat(Object(x.a)(e.state.firebaseGetItems),[{title:t.data().title,content:t.data().body,id:t.id}])})})));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},e.state={email:null,name:null,content:null,title:null,id:null,modal:null,firebaseGetItems:[{id:null,title:null,content:null}]},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return this.change=function(t,n){switch(t){case"title":e.setState({title:n.target.value});break;case"content":e.setState({content:n.target.value})}document.getElementById("title").style.display="inline-block",document.getElementById("notes").style.borderTopRightRadius="0px",document.getElementById("notes").style.borderTopLeftRadius="0px"},this.contentSubmit=function(t){null!==e.state.content&&""!==e.state.content&&e.addContentToFireBase(),t.preventDefault(),document.getElementById("title").value="",document.getElementById("title").style.display="none",document.getElementById("notes").value="",document.getElementById("notes").style.borderTopRightRadius="23px",document.getElementById("notes").style.borderTopLeftRadius="23px",console.log(e.state)},this.addContentToFireBase=Object(p.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={body:e.state.content,title:e.state.title,timestamp:K.firestore.FieldValue.serverTimestamp()},t.next=3,K.firestore().collection("users").doc(localStorage.getItem("email")).collection("notes").add(n);case 3:a=t.sent,e.setState({id:a.id}),console.log(e.state.id),e.setState({firebaseGetItems:[{id:e.state.id,title:e.state.title,content:e.state.content}].concat(Object(x.a)(e.state.firebaseGetItems))}),e.setState({title:null}),e.setState({content:null});case 9:case"end":return t.stop()}}),t)}))),this.onDelete=function(t){var n=e.state.firebaseGetItems.filter((function(e){return e.id!==t}));e.setState({firebaseGetItems:n}),K.firestore().collection("users").doc(localStorage.getItem("email")).collection("notes").doc(t).delete()},this.editItem=function(t,n,a){e.setState({modal:!0}),e.setState({id:t}),e.setState({title:n}),e.setState({content:a})},this.closeItem=function(){e.setState({modal:!1}),e.setState({id:null}),e.setState({title:null}),e.setState({content:null})},this.save=function(t,n,a){e.state.firebaseGetItems.forEach((function(e){e.id==t&&(null!==a&&null!==n&&(e.content=a,e.title=n),null!==a&&null===n&&(e.content=a),null===a&&null!=n&&(e.title=n))})),null!==a&&null!==n&&K.firestore().collection("users").doc(e.state.email).collection("notes").doc(t).update({title:n,body:a}),null!==a&&null===n&&K.firestore().collection("users").doc(e.state.email).collection("notes").doc(t).update({body:a}),null===a&&null!=n&&K.firestore().collection("users").doc(e.state.email).collection("notes").doc(t).update({title:n})},o.a.createElement("div",{id:"dashboard"},o.a.createElement("header",{id:"header"},o.a.createElement("h3",null,"NOTES KEEPER"),o.a.createElement("div",{id:"nn"},o.a.createElement("h3",{id:"namess"},this.state.name),o.a.createElement("button",{id:"logout",onClick:function(){E.logout((function(){e.props.history.push("/")}))}},"Logout"))),o.a.createElement("div",{id:"containers"},o.a.createElement("div",{id:"inp"},o.a.createElement("form",{onSubmit:function(t){return e.contentSubmit(t)}},o.a.createElement("input",{type:"text",id:"title",name:"title",placeholder:"Title:",onChange:function(t){return e.change("title",t)}}),o.a.createElement("br",null),o.a.createElement(V.a,{id:"notes",name:"content",placeholder:"Enter Your Notes..",onChange:function(t){return e.change("content",t)}}),o.a.createElement("br",null),o.a.createElement("button",{id:"add",type:"submit"},"ADD"))),o.a.createElement("div",{id:"content"},this.state.firebaseGetItems.map((function(t){return t.content?o.a.createElement(U,{title:t.title,content:t.content,key:t.id,id:t.id,deleteItem:e.onDelete,editItem:e.editItem}):null})),!0===this.state.modal?o.a.createElement(W,{close:this.closeItem,id:this.state.id,title:this.state.title,content:this.state.content,save:this.save}):null)))}}]),n}(o.a.Component),Y={apiKey:"AIzaSyBXurZM-m2wG9Cx39plrEC0noOPYNX8tGQ",authDomain:"notes-keeper-41813.firebaseapp.com",databaseURL:"https://notes-keeper-41813.firebaseio.com",projectId:"notes-keeper-41813",storageBucket:"notes-keeper-41813.appspot.com",messagingSenderId:"167442508358",appId:"1:167442508358:web:3e50bf9a3e198e4b1ab847",measurementId:"G-FMSJZCRCPL"},J=o.a.createElement(l.a,null,o.a.createElement("div",{id:"routing-container"},o.a.createElement(s.d,null,o.a.createElement(s.b,{path:"/",exact:!0,component:y}),o.a.createElement(s.b,{path:"/signup",exact:!0,component:S}),o.a.createElement(u,{path:"/dashboard",exact:!0,component:M}),o.a.createElement(s.b,{path:"*",component:function(){return"404 NOT FOUND"}})))),X=n(42);n(96),X.initializeApp(Y),X.analytics(),i.a.render(J,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[72,1,2]]]);
//# sourceMappingURL=main.3117afa1.chunk.js.map